<Window
    x:Class="MyAthenaeio.Views.Books.BookAddDialog"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="clr-namespace:MyAthenaeio.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:MyAthenaeio.Views.Books"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Title="Add a Book"
    Width="800"
    Height="700"
    WindowStartupLocation="CenterOwner"
    mc:Ignorable="d">

    <Window.Resources>
        <ResourceDictionary Source="/Resources/Styles.xaml" />
    </Window.Resources>

    <Grid Background="{StaticResource DarkAcademiaBackground}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <Border Grid.Row="0" Style="{StaticResource DarkAcademiaBorderStyle}">
            <TextBlock Style="{StaticResource HeaderTextBlockStyle}" Text="Book Information" />
        </Border>

        <ScrollViewer
            Grid.Row="1"
            Margin="15"
            VerticalScrollBarVisibility="Auto">
            <StackPanel>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="200" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <!--  Book Cover  -->
                    <Border
                        Grid.Column="0"
                        Height="300"
                        Margin="5"
                        VerticalAlignment="Top"
                        BorderBrush="{StaticResource DarkAcademiaBorder}"
                        BorderThickness="2"
                        CornerRadius="5">

                        <Grid>
                            <Image
                                x:Name="CoverImage"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                Stretch="UniformToFill" />
                            <TextBlock
                                x:Name="NoCoverText"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                Foreground="{StaticResource DarkAcademiaTextMuted}"
                                Text="No Cover Available"
                                Visibility="Collapsed" />
                        </Grid>
                    </Border>

                    <!--  Book Information  -->
                    <StackPanel
                        Grid.Column="1"
                        Margin="15,0,0,0"
                        VerticalAlignment="Top">
                        <GroupBox Header="Basic Information">
                            <Grid>
                                <Grid.Resources>
                                    <Style BasedOn="{StaticResource {x:Type Label}}" TargetType="Label">
                                        <Setter Property="Margin" Value="0,0,10,10" />
                                    </Style>
                                    <Style BasedOn="{StaticResource {x:Type TextBox}}" TargetType="TextBox">
                                        <Setter Property="Margin" Value="0,0,0,10" />
                                    </Style>
                                    <Style BasedOn="{StaticResource {x:Type DatePicker}}" TargetType="DatePicker">
                                        <Setter Property="Margin" Value="0,0,0,10" />
                                    </Style>
                                </Grid.Resources>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="120" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="Auto" />
                                </Grid.RowDefinitions>

                                <Label
                                    Grid.Row="0"
                                    Grid.Column="0"
                                    Content="Title:" />
                                <TextBox
                                    x:Name="TitleTextBox"
                                    Grid.Row="0"
                                    Grid.Column="1" />

                                <Label
                                    Grid.Row="1"
                                    Grid.Column="0"
                                    Content="Subtitle:" />
                                <TextBox
                                    x:Name="SubtitleTextBox"
                                    Grid.Row="1"
                                    Grid.Column="1" />

                                <Label
                                    Grid.Row="2"
                                    Grid.Column="0"
                                    Content="Authors:" />
                                <TextBox
                                    x:Name="AuthorsTextBox"
                                    Grid.Row="2"
                                    Grid.Column="1"
                                    ToolTip="Separate multiple authors with commas" />

                                <Label
                                    Grid.Row="3"
                                    Grid.Column="0"
                                    Content="ISBN-10:" />
                                <TextBox
                                    x:Name="ISBN10TextBox"
                                    Grid.Row="3"
                                    Grid.Column="1"
                                    LostFocus="ISBN10TextBox_LostFocus" />

                                <Label
                                    Grid.Row="4"
                                    Grid.Column="0"
                                    Content="ISBN-13:" />
                                <TextBox
                                    x:Name="ISBN13TextBox"
                                    Grid.Row="4"
                                    Grid.Column="1"
                                    LostFocus="ISBN13TextBox_LostFocus" />

                                <Label
                                    Grid.Row="5"
                                    Grid.Column="0"
                                    Content="Description:" />
                                <TextBox
                                    x:Name="DescriptionTextBox"
                                    Grid.Row="5"
                                    Grid.Column="1"
                                    Height="100"
                                    AcceptsReturn="True"
                                    TextWrapping="Wrap"
                                    VerticalScrollBarVisibility="Auto" />

                                <Label
                                    Grid.Row="6"
                                    Grid.Column="0"
                                    Content="Publisher:" />
                                <TextBox
                                    x:Name="PublisherTextBox"
                                    Grid.Row="6"
                                    Grid.Column="1" />

                                <Label
                                    Grid.Row="7"
                                    Grid.Column="0"
                                    Content="Pub. Year:" />
                                <controls:NumberBox
                                    x:Name="PublicationYearTextBox"
                                    Grid.Row="7"
                                    Grid.Column="1"
                                    Maximum="9999"
                                    Step="1" />

                                <Label
                                    Grid.Row="8"
                                    Grid.Column="0"
                                    Content="Cover URL:" />
                                <Grid Grid.Row="8" Grid.Column="1">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>
                                    <TextBox x:Name="CoverUrlTextBox" Grid.Column="0" />
                                    <Button
                                        Grid.Column="1"
                                        Margin="10,0,0,10"
                                        Click="FetchCover_Click"
                                        Content="Fetch Cover"
                                        ToolTip="Fetch cover from a URL" />
                                </Grid>
                            </Grid>
                        </GroupBox>
                    </StackPanel>
                </Grid>
            </StackPanel>
        </ScrollViewer>

        <StackPanel
            Grid.Row="2"
            Margin="15"
            HorizontalAlignment="Right"
            Orientation="Horizontal">
            <Button Click="Save_Click" Content="Save" />
            <Button Click="Cancel_Click" Content="Cancel" />
        </StackPanel>
    </Grid>
</Window>
